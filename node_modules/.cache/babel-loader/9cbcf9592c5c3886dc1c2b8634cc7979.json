{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Acer/Desktop/dev__book/dev__book/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Acer/Desktop/dev__book/dev__book/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var unpkgPathPlugin=function unpkgPathPlugin(){return{name:'unpkg-path-plugin',setup:function setup(build){// Handle root entry file of 'index.js'\nbuild.onResolve({filter:/(^index\\.js$)/},function(){return{path:'index.js',namespace:'a'};});// Handle relative paths in a module\nbuild.onResolve({filter:/^\\.+\\//},function(args){return{namespace:'a',path:new URL(args.path,'https://unpkg.com'+args.resolveDir+'/').href};});// Handle main file of a module\nbuild.onResolve({filter:/.*/},/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(args){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",{namespace:'a',path:\"https://unpkg.com/\".concat(args.path)});case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}};};","map":{"version":3,"names":["unpkgPathPlugin","name","setup","build","onResolve","filter","path","namespace","args","URL","resolveDir","href","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","concat","stop","_x","apply","arguments"],"sources":["C:/Users/Acer/Desktop/dev__book/dev__book/src/bundler/plugins/unpkg-path-plugin.ts"],"sourcesContent":["import * as esbuild from 'esbuild-wasm';\r\n\r\nexport const unpkgPathPlugin = () => {\r\n  return {\r\n    name: 'unpkg-path-plugin',\r\n    setup(build: esbuild.PluginBuild) {\r\n      // Handle root entry file of 'index.js'\r\n      build.onResolve({ filter: /(^index\\.js$)/ }, () => {\r\n        return { path: 'index.js', namespace: 'a' };\r\n      });\r\n\r\n      // Handle relative paths in a module\r\n      build.onResolve({ filter: /^\\.+\\// }, (args: any) => {\r\n        return {\r\n          namespace: 'a',\r\n          path: new URL(args.path, 'https://unpkg.com' + args.resolveDir + '/').href,\r\n        };\r\n      });\r\n\r\n      // Handle main file of a module\r\n      build.onResolve({ filter: /.*/ }, async (args: any) => {\r\n        return {\r\n          namespace: 'a',\r\n          path: `https://unpkg.com/${args.path}`,\r\n        };\r\n      });\r\n    },\r\n  };\r\n};\r\n"],"mappings":"8QAEA,MAAO,IAAM,CAAAA,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CACnC,MAAO,CACLC,IAAI,CAAE,mBAAmB,CACzBC,KAAK,UAAAA,MAACC,KAA0B,CAAE,CAChC;AACAA,KAAK,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAE,eAAgB,CAAC,CAAE,UAAM,CACjD,MAAO,CAAEC,IAAI,CAAE,UAAU,CAAEC,SAAS,CAAE,GAAI,CAAC,CAC7C,CAAC,CAAC,CAEF;AACAJ,KAAK,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAE,QAAS,CAAC,CAAE,SAACG,IAAS,CAAK,CACnD,MAAO,CACLD,SAAS,CAAE,GAAG,CACdD,IAAI,CAAE,GAAI,CAAAG,GAAG,CAACD,IAAI,CAACF,IAAI,CAAE,mBAAmB,CAAGE,IAAI,CAACE,UAAU,CAAG,GAAG,CAAC,CAACC,IACxE,CAAC,CACH,CAAC,CAAC,CAEF;AACAR,KAAK,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAE,IAAK,CAAC,6BAAAO,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAOR,IAAS,SAAAM,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAG,MAAA,UACzC,CACLf,SAAS,CAAE,GAAG,CACdD,IAAI,sBAAAiB,MAAA,CAAuBf,IAAI,CAACF,IAAI,CACtC,CAAC,0BAAAa,QAAA,CAAAK,IAAA,MAAAR,OAAA,GACF,mBAAAS,EAAA,SAAAb,IAAA,CAAAc,KAAA,MAAAC,SAAA,QAAC,CACJ,CACF,CAAC,CACH,CAAC"},"metadata":{},"sourceType":"module"}