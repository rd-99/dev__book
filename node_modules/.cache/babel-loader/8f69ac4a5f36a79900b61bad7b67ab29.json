{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Acer/Desktop/dev__book/dev__book/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{useTypedSelector}from\"./use-typed-selector\";export var useCumulativeCode=function useCumulativeCode(cellId){return useTypedSelector(function(state){var _state$cells=state.cells,data=_state$cells.data,order=_state$cells.order;var orderedCells=order.map(function(id){return data[id];});var showFunc=\"\\n        import _React from 'react';\\n        import _ReactDOM from 'react-dom';\\n        var show = (value) => {\\n        const root = document.querySelector('#root');\\n        \\n        if(typeof value === 'object'){\\n            if(value.$$typeof && value.props){\\n                _ReactDOM.render(value, root);\\n            }\\n            else{\\n                root.innerHTML = JSON.stringify(value);\\n            }            \\n        }\\n        else{\\n            root.innerHTML = value;\\n        }\\n    }\\n      \";var showFuncNoop='var show = () => {}';var cumulativeCode=[];var _iterator=_createForOfIteratorHelper(orderedCells),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;if(c.type==='code'){if(c.id===cellId){cumulativeCode.push(showFunc);}else{cumulativeCode.push(showFuncNoop);}if(c.id===cellId||c.content.substring(0,10)==='//@include'){cumulativeCode.push(c.content);}}if(c.id===cellId){break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return cumulativeCode;}).join('\\n');};","map":{"version":3,"names":["useTypedSelector","useCumulativeCode","cellId","state","_state$cells","cells","data","order","orderedCells","map","id","showFunc","showFuncNoop","cumulativeCode","_iterator","_createForOfIteratorHelper","_step","s","n","done","c","value","type","push","content","substring","err","e","f","join"],"sources":["C:/Users/Acer/Desktop/dev__book/dev__book/src/hooks/use-cumulative-code.ts"],"sourcesContent":["import { useTypedSelector } from \"./use-typed-selector\";\r\n\r\nexport const useCumulativeCode = (cellId : string) => {\r\n    return useTypedSelector((state) => {\r\n        const { data , order} = state.cells;\r\n        const orderedCells = order.map((id) => data[id]);\r\n\r\n\r\n        const showFunc = `\r\n        import _React from 'react';\r\n        import _ReactDOM from 'react-dom';\r\n        var show = (value) => {\r\n        const root = document.querySelector('#root');\r\n        \r\n        if(typeof value === 'object'){\r\n            if(value.$$typeof && value.props){\r\n                _ReactDOM.render(value, root);\r\n            }\r\n            else{\r\n                root.innerHTML = JSON.stringify(value);\r\n            }            \r\n        }\r\n        else{\r\n            root.innerHTML = value;\r\n        }\r\n    }\r\n      `;\r\n\r\n      const showFuncNoop = 'var show = () => {}' ;\r\n      const cumulativeCode = [];\r\n      for (let c of orderedCells ){\r\n        if ( c.type === 'code' ){            \r\n            if (c.id === cellId){\r\n                cumulativeCode.push(showFunc);\r\n            }\r\n            else{\r\n                cumulativeCode.push(showFuncNoop);\r\n            }\r\n            if(c.id === cellId || c.content.substring(0,10) === '//@include' ){\r\n                cumulativeCode.push(c.content);  \r\n            }\r\n            \r\n                  \r\n        }\r\n        if (c.id === cellId) {\r\n            break;\r\n          }\r\n      }\r\n      return cumulativeCode;\r\n    }).join('\\n');\r\n};"],"mappings":"uJAAA,OAASA,gBAAgB,KAAQ,sBAAsB,CAEvD,MAAO,IAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,MAAe,CAAK,CAClD,MAAO,CAAAF,gBAAgB,CAAC,SAACG,KAAK,CAAK,CAC/B,IAAAC,YAAA,CAAwBD,KAAK,CAACE,KAAK,CAA3BC,IAAI,CAAAF,YAAA,CAAJE,IAAI,CAAGC,KAAK,CAAAH,YAAA,CAALG,KAAK,CACpB,GAAM,CAAAC,YAAY,CAAGD,KAAK,CAACE,GAAG,CAAC,SAACC,EAAE,QAAK,CAAAJ,IAAI,CAACI,EAAE,CAAC,GAAC,CAGhD,GAAM,CAAAC,QAAQ,6gBAkBf,CAED,GAAM,CAAAC,YAAY,CAAG,qBAAqB,CAC1C,GAAM,CAAAC,cAAc,CAAG,EAAE,CAAC,IAAAC,SAAA,CAAAC,0BAAA,CACZP,YAAY,EAAAQ,KAAA,KAA1B,IAAAF,SAAA,CAAAG,CAAA,KAAAD,KAAA,CAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,EAA4B,IAAnB,CAAAC,CAAC,CAAAJ,KAAA,CAAAK,KAAA,CACR,GAAKD,CAAC,CAACE,IAAI,GAAK,MAAM,CAAE,CACpB,GAAIF,CAAC,CAACV,EAAE,GAAKR,MAAM,CAAC,CAChBW,cAAc,CAACU,IAAI,CAACZ,QAAQ,CAAC,CACjC,CAAC,IACG,CACAE,cAAc,CAACU,IAAI,CAACX,YAAY,CAAC,CACrC,CACA,GAAGQ,CAAC,CAACV,EAAE,GAAKR,MAAM,EAAIkB,CAAC,CAACI,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAK,YAAY,CAAE,CAC9DZ,cAAc,CAACU,IAAI,CAACH,CAAC,CAACI,OAAO,CAAC,CAClC,CAGJ,CACA,GAAIJ,CAAC,CAACV,EAAE,GAAKR,MAAM,CAAE,CACjB,MACF,CACJ,CAAC,OAAAwB,GAAA,EAAAZ,SAAA,CAAAa,CAAA,CAAAD,GAAA,WAAAZ,SAAA,CAAAc,CAAA,IACD,MAAO,CAAAf,cAAc,CACvB,CAAC,CAAC,CAACgB,IAAI,CAAC,IAAI,CAAC,CACjB,CAAC"},"metadata":{},"sourceType":"module"}