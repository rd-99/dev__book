{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useTypedSelector } from \"./use-typed-selector\";\nexport const useCumulativeCode = cellId => {\n  _s();\n  return useTypedSelector(state => {\n    const {\n      data,\n      order\n    } = state.cells;\n    const orderedCells = order.map(id => data[id]);\n    const showFunc = `\n        import _React from 'react';\n        import _ReactDOM from 'react-dom';\n        var show = (value) => {\n        const root = document.querySelector('#root');\n        \n        if(typeof value === 'object'){\n            if(value.$$typeof && value.props){\n                _ReactDOM.render(value, root);\n            }\n            else{\n                root.innerHTML = JSON.stringify(value);\n            }            \n        }\n        else{\n            root.innerHTML = value;\n        }\n    }\n      `;\n    const showFuncNoop = 'var show = () => {}';\n    const cumulativeCode = [];\n    for (let c of orderedCells) {\n      if (c.type === 'code') {\n        if (c.id === cellId) {\n          cumulativeCode.push(showFunc);\n        } else {\n          cumulativeCode.push(showFuncNoop);\n        }\n        if (c.id === cellId || c.content.substring(0, 10) === '//@include') {\n          cumulativeCode.push(c.content);\n        }\n      }\n      if (c.id === cellId) {\n        break;\n      }\n    }\n    return cumulativeCode;\n  }).join('\\n');\n};\n_s(useCumulativeCode, \"4E8l+eUOHjvoqwxLSolHjmdFz+I=\", false, function () {\n  return [useTypedSelector];\n});","map":{"version":3,"names":["useTypedSelector","useCumulativeCode","cellId","_s","state","data","order","cells","orderedCells","map","id","showFunc","showFuncNoop","cumulativeCode","c","type","push","content","substring","join"],"sources":["C:/Users/Acer/Desktop/dev__book/dev__book/src/hooks/use-cumulative-code.ts"],"sourcesContent":["import { useTypedSelector } from \"./use-typed-selector\";\r\n\r\nexport const useCumulativeCode = (cellId : string) => {\r\n    return useTypedSelector((state) => {\r\n        const { data , order} = state.cells;\r\n        const orderedCells = order.map((id) => data[id]);\r\n\r\n\r\n        const showFunc = `\r\n        import _React from 'react';\r\n        import _ReactDOM from 'react-dom';\r\n        var show = (value) => {\r\n        const root = document.querySelector('#root');\r\n        \r\n        if(typeof value === 'object'){\r\n            if(value.$$typeof && value.props){\r\n                _ReactDOM.render(value, root);\r\n            }\r\n            else{\r\n                root.innerHTML = JSON.stringify(value);\r\n            }            \r\n        }\r\n        else{\r\n            root.innerHTML = value;\r\n        }\r\n    }\r\n      `;\r\n\r\n      const showFuncNoop = 'var show = () => {}' ;\r\n      const cumulativeCode = [];\r\n      for (let c of orderedCells ){\r\n        if ( c.type === 'code' ){            \r\n            if (c.id === cellId){\r\n                cumulativeCode.push(showFunc);\r\n            }\r\n            else{\r\n                cumulativeCode.push(showFuncNoop);\r\n            }\r\n            if(c.id === cellId || c.content.substring(0,10) === '//@include' ){\r\n                cumulativeCode.push(c.content);  \r\n            }\r\n            \r\n                  \r\n        }\r\n        if (c.id === cellId) {\r\n            break;\r\n          }\r\n      }\r\n      return cumulativeCode;\r\n    }).join('\\n');\r\n};"],"mappings":";AAAA,SAASA,gBAAgB,QAAQ,sBAAsB;AAEvD,OAAO,MAAMC,iBAAiB,GAAIC,MAAe,IAAK;EAAAC,EAAA;EAClD,OAAOH,gBAAgB,CAAEI,KAAK,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAGC;IAAK,CAAC,GAAGF,KAAK,CAACG,KAAK;IACnC,MAAMC,YAAY,GAAGF,KAAK,CAACG,GAAG,CAAEC,EAAE,IAAKL,IAAI,CAACK,EAAE,CAAC,CAAC;IAGhD,MAAMC,QAAQ,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;IAED,MAAMC,YAAY,GAAG,qBAAqB;IAC1C,MAAMC,cAAc,GAAG,EAAE;IACzB,KAAK,IAAIC,CAAC,IAAIN,YAAY,EAAE;MAC1B,IAAKM,CAAC,CAACC,IAAI,KAAK,MAAM,EAAE;QACpB,IAAID,CAAC,CAACJ,EAAE,KAAKR,MAAM,EAAC;UAChBW,cAAc,CAACG,IAAI,CAACL,QAAQ,CAAC;QACjC,CAAC,MACG;UACAE,cAAc,CAACG,IAAI,CAACJ,YAAY,CAAC;QACrC;QACA,IAAGE,CAAC,CAACJ,EAAE,KAAKR,MAAM,IAAIY,CAAC,CAACG,OAAO,CAACC,SAAS,CAAC,CAAC,EAAC,EAAE,CAAC,KAAK,YAAY,EAAE;UAC9DL,cAAc,CAACG,IAAI,CAACF,CAAC,CAACG,OAAO,CAAC;QAClC;MAGJ;MACA,IAAIH,CAAC,CAACJ,EAAE,KAAKR,MAAM,EAAE;QACjB;MACF;IACJ;IACA,OAAOW,cAAc;EACvB,CAAC,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC;AACjB,CAAC;AAAChB,EAAA,CAhDWF,iBAAiB;EAAA,QACnBD,gBAAgB;AAAA"},"metadata":{},"sourceType":"module"}