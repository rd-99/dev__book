{"ast":null,"code":"import{ActionType}from\"../action-types\";import{saveCells}from\"../action-creators\";export var persistMiddleware=function persistMiddleware(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){next(action);var timer;if([ActionType.MOVE_CELL,ActionType.UPDATE_CELL,ActionType.INSERT_CELL_AFTER,ActionType.DELETE_CELL].includes(action.type)){if(timer){clearTimeout(timer);}timer=setTimeout(function(){saveCells()(dispatch,getState);},250);}};};};","map":{"version":3,"names":["ActionType","saveCells","persistMiddleware","_ref","dispatch","getState","next","action","timer","MOVE_CELL","UPDATE_CELL","INSERT_CELL_AFTER","DELETE_CELL","includes","type","clearTimeout","setTimeout"],"sources":["C:/Users/Acer/Desktop/dev__book/dev__book/src/state/middlewares/persist-middleware.ts"],"sourcesContent":["import { Dispatch } from \"redux\";\r\nimport { Action } from \"../actions\";\r\nimport { ActionType } from \"../action-types\";\r\nimport { saveCells } from \"../action-creators\";\r\nimport { RootState } from \"../reducers\";\r\n\r\nexport const persistMiddleware = ({ dispatch , getState}: \r\n    { dispatch: Dispatch<Action>; getState : () => RootState;\r\n    }) => {\r\n        \r\n    return (next: (action: Action) => void) => {\r\n        return (action: Action) => {\r\n            next(action); \r\n            let timer:any;        \r\n        if(\r\n            [ActionType.MOVE_CELL ,\r\n                ActionType.UPDATE_CELL,\r\n                ActionType.INSERT_CELL_AFTER,\r\n                ActionType.DELETE_CELL].includes(action.type)\r\n                ){\r\n                    if(timer){\r\n                        clearTimeout(timer);\r\n                    }\r\n                    timer = setTimeout(()=> {\r\n                        saveCells()(dispatch, getState);\r\n                    },250);\r\n                }        \r\n        };\r\n    };\r\n};"],"mappings":"AAEA,OAASA,UAAU,KAAQ,iBAAiB,CAC5C,OAASC,SAAS,KAAQ,oBAAoB,CAG9C,MAAO,IAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAAC,IAAA,CAEpB,IAF0B,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAGC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAInD,MAAO,UAACC,IAA8B,CAAK,CACvC,MAAO,UAACC,MAAc,CAAK,CACvBD,IAAI,CAACC,MAAM,CAAC,CACZ,GAAI,CAAAC,KAAS,CACjB,GACI,CAACR,UAAU,CAACS,SAAS,CACjBT,UAAU,CAACU,WAAW,CACtBV,UAAU,CAACW,iBAAiB,CAC5BX,UAAU,CAACY,WAAW,CAAC,CAACC,QAAQ,CAACN,MAAM,CAACO,IAAI,CAAC,CAC5C,CACG,GAAGN,KAAK,CAAC,CACLO,YAAY,CAACP,KAAK,CAAC,CACvB,CACAA,KAAK,CAAGQ,UAAU,CAAC,UAAK,CACpBf,SAAS,CAAC,CAAC,CAACG,QAAQ,CAAEC,QAAQ,CAAC,CACnC,CAAC,CAAC,GAAG,CAAC,CACV,CACR,CAAC,CACL,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module"}