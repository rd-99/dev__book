{"ast":null,"code":"import React, { useEffect, useMemo, useRef } from 'react';\nimport \"./index.css\";\nvar DragBar = function DragBar(props) {\n  var _ref = props || {},\n    prefixCls = _ref.prefixCls,\n    onChange = _ref.onChange;\n  var dragRef = useRef();\n  function handleMouseMove(event) {\n    if (dragRef.current) {\n      var newHeight = dragRef.current.height + event.clientY - dragRef.current.dragY;\n      if (newHeight >= props.minHeight && newHeight <= props.maxHeight) {\n        onChange && onChange(dragRef.current.height + (event.clientY - dragRef.current.dragY));\n      }\n    }\n  }\n  function handleMouseUp() {\n    dragRef.current = undefined;\n  }\n  function handleMouseDown(event) {\n    dragRef.current = {\n      height: props.height,\n      dragY: event.clientY\n    };\n  }\n  useEffect(function () {\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n    return function () {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, []);\n  var svg = useMemo(function () {\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      viewBox: \"0 0 512 512\",\n      height: \"100%\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fill: \"currentColor\",\n      d: \"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\"\n    }));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-bar\"),\n    onMouseDown: handleMouseDown\n  }, svg);\n};\nexport default DragBar;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","DragBar","props","_ref","prefixCls","onChange","dragRef","handleMouseMove","event","current","newHeight","height","clientY","dragY","minHeight","maxHeight","handleMouseUp","undefined","handleMouseDown","document","addEventListener","removeEventListener","svg","createElement","viewBox","fill","d","className","concat","onMouseDown"],"sources":["../../../../src/components/DragBar/index.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from 'react';\nimport { IProps } from '../../utils';\nimport './index.less';\n\nexport interface IDragBarProps extends IProps {\n  height: number;\n  maxHeight: number;\n  minHeight: number;\n  onChange: (value: number) => void;\n}\n\nconst DragBar: React.FC<IDragBarProps> = (props) => {\n  const { prefixCls, onChange } = props || {};\n  const dragRef = useRef<{ height: number, dragY: number }>();\n  function handleMouseMove(event: MouseEvent) {\n    if (dragRef.current) {\n      const newHeight = dragRef.current.height + event.clientY - dragRef.current.dragY;\n      if (newHeight >= props.minHeight && newHeight <= props.maxHeight) {\n        onChange && onChange(dragRef.current.height + (event.clientY - dragRef.current.dragY));\n      }\n    }\n  }\n  function handleMouseUp() {\n    dragRef.current = undefined;\n  }\n  function handleMouseDown(event: React.MouseEvent<HTMLDivElement, MouseEvent>) {\n    dragRef.current = {\n      height: props.height,\n      dragY: event.clientY\n    };\n  }\n\n  useEffect(() => {\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    }\n  }, []);\n  const svg = useMemo(() => (\n    <svg viewBox=\"0 0 512 512\" height=\"100%\">\n      <path fill=\"currentColor\" d=\"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\" />\n    </svg>\n  ), []);\n  return (\n    <div className={`${prefixCls}-bar`} onMouseDown={handleMouseDown}>\n      {svg}\n    </div>\n  );\n}\n\nexport default DragBar;\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,QAAkD,OAAlD;AAEA;AASA,IAAMC,OAAgC,GAAG,SAAnCA,OAAmCA,CAACC,KAAD,EAAW;EAAA,IAAAC,IAAA,GAClBD,KAAK,IAAI,EADS;IAC1CE,SAD0C,GAAAD,IAAA,CAC1CC,SAD0C;IAC/BC,QAD+B,GAAAF,IAAA,CAC/BE,QAD+B;EAElD,IAAMC,OAAO,GAAGN,MAAM,EAAtB;EACA,SAASO,eAATA,CAAyBC,KAAzB,EAA4C;IAC1C,IAAIF,OAAO,CAACG,OAAZ,EAAqB;MACnB,IAAMC,SAAS,GAAGJ,OAAO,CAACG,OAAR,CAAgBE,MAAhB,GAAyBH,KAAK,CAACI,OAA/B,GAAyCN,OAAO,CAACG,OAAR,CAAgBI,KAA3E;MACA,IAAIH,SAAS,IAAIR,KAAK,CAACY,SAAnB,IAAgCJ,SAAS,IAAIR,KAAK,CAACa,SAAvD,EAAkE;QAChEV,QAAQ,IAAIA,QAAQ,CAACC,OAAO,CAACG,OAAR,CAAgBE,MAAhB,IAA0BH,KAAK,CAACI,OAAN,GAAgBN,OAAO,CAACG,OAAR,CAAgBI,KAA1D,CAAD,CAApB;MACD;IACF;EACF;EACD,SAASG,aAATA,CAAA,EAAyB;IACvBV,OAAO,CAACG,OAAR,GAAkBQ,SAAlB;EACD;EACD,SAASC,eAATA,CAAyBV,KAAzB,EAA8E;IAC5EF,OAAO,CAACG,OAAR,GAAkB;MAChBE,MAAM,EAAET,KAAK,CAACS,MADE;MAEhBE,KAAK,EAAEL,KAAK,CAACI;IAFG,CAAlB;EAID;EAEDd,SAAS,CAAC,YAAM;IACdqB,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCb,eAAvC;IACAY,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCJ,aAArC;IACA,OAAO,YAAM;MACXG,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0Cd,eAA1C;MACAY,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCL,aAAxC;IACD,CAHD;EAID,CAPQ,EAON,EAPM,CAAT;EAQA,IAAMM,GAAG,GAAGvB,OAAO,CAAC;IAAA,oBAClBF,KAAA,CAAA0B,aAAA;MAAKC,OAAO,EAAC,aAAb;MAA2Bb,MAAM,EAAC;IAAlC,gBACEd,KAAA,CAAA0B,aAAA;MAAME,IAAI,EAAC,cAAX;MAA0BC,CAAC,EAAC;IAA5B,EADF,CADkB;EAAA,CAAD,EAIhB,EAJgB,CAAnB;EAKA,oBACE7B,KAAA,CAAA0B,aAAA;IAAKI,SAAS,KAAAC,MAAA,CAAKxB,SAAL,SAAd;IAAoCyB,WAAW,EAAEX;EAAjD,GACGI,GADH,CADF;AAKD,CAvCD;AAyCA,eAAerB,OAAf"},"metadata":{},"sourceType":"module"}